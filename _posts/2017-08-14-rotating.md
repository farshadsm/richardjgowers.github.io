---
layout: post
title: Rotating around a dihedral with MDAnalysis
---

This will give something like this in the notebook itself:

<script src="{{site.js}}/build/ngl.js">
</script>

<script>

  if( !Detector.webgl ) Detector.addGetWebGLMessage();

  NGL.mainScriptFilePath = "{{site.js}}/build/ngl.embedded.min.js";

  function onInit(){
	  var stage = new NGL.Stage( "viewport" );
	  stage.loadFile( "{{site.data}}/out.pdb", { defaultRepresentation: true, asTrajectory: true } ).then( function( o ){
	      var traj = o.trajList[0].trajectory;
	      var player = new NGL.TrajectoryPlayer( traj, {
		  step: 1,
		  timeout: 700,
		  interpolateStep: 100,
		  start: 0,
		  end: traj.numframes,
		  interpolateType: "linear",
		  mode: "loop",
		  direction: "bounce"
	      } );
              traj.setPlayer( player );
              traj.player.play();
    	      o.addRepresentation( "ball+stick", { multipleBond: true } );
	      o.autoView();
	  } );
	  stage.setTheme( "light" )

      window.addEventListener( "resize", function( event ){
         stage.handleResize();
      }, false );
      
      stage.viewer.container.addEventListener( "dblclick", function(){
         stage.toggleFullscreen();
      } );
  }

  document.addEventListener( "DOMContentLoaded", function() {
	  NGL.init( onInit );
  } );

</script>

<div id="viewport" style="max-width:100%; height:400px;"></div>

